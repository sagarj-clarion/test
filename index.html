<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <title>Sagarjunnarkar.github.io by sagarjunnarkar</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Sagarjunnarkar.github.io</h1>
        <h2></h2>

        <section id="downloads">
          <a href="https://github.com/sagarjunnarkar" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a name="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages"><span class="octicon octicon-link"></span></a>How to accept user input in rake task</h1>

<p>Recently I wrote a rake task in my rails project where I have to accept user inputs and do some stuff on that. My rake task looks like below.</p>

<pre><code>namespace :enter do
  task :name do
    p 'Enter your name'
    name = gets.chomp
  end
end
</code></pre>
<pre><code>$ rake enter:name</code></pre>
<p>And I astonished! I got an error.</p>
<pre><code>No such file or directory - setup:name</code></pre>
<p>What's wrong here?
<p>The gets is method of Kernel module. When we pass any argument to rake, 'gets' assumes that there is file named as 'enter:name' (i.e. our rake task) and tries to return content of the file, which is undoubtedly does not exist.</p>
<p>Try <pre><code>STDIN.gets.chomp</pre></code></p>
<p>Kernel.gets first tries to read the contents of files passed in through ARGV. If there are no files in ARGV, it will use standard input at which point it's the same as STDIN.gets</p>
<h3>
      </section>
    </div>

    
  </body>
</html>